<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" type="text/css" href="../css/flow.css"/>
		<link rel="stylesheet" type="text/css" href="../css/style.css"/>
	</head>
	<body>
		<div id="top"></div>
		<div id="banner"></div>	
		<div id="cakeList"></div>		
		<div id="box"></div>
		<div id="footer"></div>
	</body>
</html>
<script type="text/javascript" src="../js/jquery-1.8.3.min.js" ></script>
<script type="text/javascript" src="../js/cookie.js" ></script>
<script>
	$(function(){
		$("#top").load("top.html");
		$("#banner").load("banner.html");		
		$.getJSON("../json/cake.json",showCake);
			function showCake(data){
				console.log(data);			
				let htmlStr="";
					htmlStr="<ul>"
					for(let i=0;i<data.length;i++){
						let dlStr="<dl id='odd'><dd ><img src='"+data[i].url+"' width='310' height='300' /></dd><dt><p class='pleft'>"
						+data[i].title+"</p><p class='pright'><em>"+data[i].size+"</em> 价格：<i>"+data[i].price+"</i><br>甜度:<img src='"
						+data[i].sweet+"' /><img src='"+data[i].sweet+"'/></p><div class='shopping'><ul><li><a href='###'>1磅</a></li><li><a href='###'>2磅</a></li><li><a href='###'>3磅</a></li><li><a href='###'>4磅</a></li></ul><em class='carsh'><a href='###'>加入购物车</a></em><i><a href='###'>立即购买</a></i></div></dt></dl>"
						htmlStr+="<li >"+dlStr+"</li>";				
					}
				htmlStr+="</ul>";
				$("#cakeList").append(htmlStr);	
				
				$("#cakeList ul li").mouseenter(function(){					
					$(this).find("div").stop(false).animate({
						"bottom":"0px"     
					},1000);
				})	
				$("#cakeList ul li").mouseleave(function(){							
					$(this).find("div").stop(false).animate({
						"bottom":"-300px"
	     
					},1000)	;
					
									
				})
				var commoList=[];//给一个空数组  把所有加入购物车的商品加入购物车
				$("#cakeList ul li").find("em").click(function(){					
					let goods={};
					//console.log($(this).parents("li")[0]);
					//把所有信息存到goods里
					let list=$(this).parents("li")[0];
					goods.src=$(this).parents("li").find("img").attr("src");
					goods.title=$(this).parents("li").find("p:eq(0)").html();
					goods.price=$(this).parents("li").find("p i").html();
					goods.size=$(this).parents("li").find("p em").html();
					
					var o={};
					o.src=goods.src;
					o.title=goods.title;
					o.price=goods.price;
					o.size=goods.size;
					console.log(o);
					commoList.push(o);
					console.log(commoList.length);
					saveCookie("commodity",commoList,"1");
				});
				
				
			}
			
	})
	
//	<ul>
//	 	<li>
//	 		<dl id="odd">
//				<dd ><img src="../img/thumb_13291.png" width="310" height="250" /></dd>
//				<dt>
//					<p class="pleft">雪域牛乳芝士蛋糕 Le Cheesecake</p>
//					<p class="pright">1磅 价格：<i>98.00</i><br>甜度:<img src="../img/26.jpg" /><img src="../img/26.jpg" /></p>
//					<p class="component">主要原材料：黄油（新西兰安佳）、全脂牛奶（德国爱氏晨曦/法国得乐思）、幼砂糖（韩国雪花）．．．</p>
//					<div class="shopping">
//						<ul>
//							<li>1磅</li>
//							<li>2磅</li>
//							<li>3磅</li>
//							<li>4磅</li>
//						</ul>
//						<a href="###"><em>加入购物车</em></a>
//						<a href="###"><i>立即购买</i></a>
//					</div>
//				</dt>
//			</dl>
//	 	</li>
//	</ul>
	
	
	
	
</script>
<script>
	
</script>
